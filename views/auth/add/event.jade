extends ../../layout

block content_style
	link(rel='stylesheet', type='text/css', href='/styles/add.css')

block content_scripts
	script(type='text/javascript', src='/scripts/add.js')

block content_right
	.navigator
		.nav_title СОБЫТИЕ
		.nav_project_children
		br
		b.nav_settings_title настройки
		//- .draft черновик
		.toggle_eng перевод
		br
		b.form_submit ОТПРАВИТЬ

mixin eventField(st)
	.snake
		input.back(type="button", value="<")
		select(name='event[members]')
			option(value='') нет
			each member in members
				each status in member.status
					if (status == st)
						option(value=member._id + '-' + st)= member.ru.name
		input.forward(type="button", value=">")

mixin projectField(st)
	.snake
		input.back(type="button", value="<")
		select(name='children[0][members]', disabled)
			option(value='') нет
			each member in members
				each status in member.status
					if (status == st)
						option(value=member._id + '-' + st)= member.ru.name
		input.forward(type="button", value=">")

block content
	.form_block
		h2 Конструктор событий
		br
		a(href='/auth') назад
		br
		.event_convert СОБЫТИЕ
		br
		br
		form(action="/auth/add/event", method="post", enctype="multipart/form-data")
			.form_title Заголовок:
			input.ru(type="text", name="ru[title]",)
			input.en(type="text", name="en[title]", disabled)
			.form_title Подзаголовок:
			input.ru(type="text", name="ru[s_title]",)
			input.en(type="text", name="en[s_title]", disabled)
			.form_title Описание:
			textarea.ru(name="ru[body]", rows="8",)
			textarea.en(name="en[body]", rows="8", disabled)
			.form_title Тикет:
			textarea.ru(name="ru[ticket]", rows="8",)
			textarea.en(name="en[ticket]", rows="8", disabled)
			.form_title Комментарий:
			textarea.ru(name="ru[comment]", rows="8",)
			textarea.en(name="en[comment]", rows="8", disabled)
			.form_title Постер:
			input(type="file", name="poster")
			.form_title Фото:
			input(type="file", name="photo")
			.form_title Автор фото:
			input.ru(type="text", name="ru[p_author]",)
			input.en(type="text", name="en[p_author]", disabled)
			br
			br
			h3 Участники
			br
			.form_block_event
				.form_title Режиссер:
				+eventField('director')
				.form_title Драматург:
				+eventField('playwright')
				.form_title Автор:
				+eventField('author')
				.form_title Художественный руководитель:
				+eventField('art_director')
				.form_title Куратор:
				+eventField('curator')
				.form_title Фотограф:
				+eventField('photographer')
				.form_title Художник:
				+eventField('artist')
				.form_title Композитор:
				+eventField('composer')
				.form_title Хореограф:
				+eventField('choreographer')
				.form_title Продюсер:
				+eventField('producer')
				.form_title Теоретик:
				+eventField('theoretician')
				.form_title Лектор:
				+eventField('lecturer')
				.form_title Актеры:
				+eventField('actor')
				.form_title Помощник режиссера:
				+eventField('sub_director')
				.form_title Технический директор:
				+eventField('tech_director')
				.form_title Видеохудожник:
				+eventField('video_artist')
				.form_title Звукорежиссер:
				+eventField('audio_director')
				.form_title Мультимедиахудожник
				+eventField('multi_artist')
				.form_title Сценограф
				+eventField('scenographer')
				.form_title Консультант
				+eventField('consultant')
				.form_title Спецэффекты
				+eventField('effects')
				br
				br
				h3 Параметры
				br
				.form_title Категория:
				select(name='tag')
					option(value='performance') спектакль
					option(value='lecture') лекция
					option(value='masterclass') мастер-класс
					option(value='exhibition') выставка
					option(value='concert') концерт
					option(value='education') институт театра
					option(value='blackbox') blackbox
					option(value='children') детская программа
					option(value='storytallyng') сторителлинг
				.form_title Зал:
				select(name='event[hall]')
					option(value='main') основная сцена
					option(value='black') черный зал
					option(value='white') белый зал
					option(value='cafe') кафе
					option(value='lobby') фойе
					option(value='301') комната 301
					option(value='306') комната 306
				br
				br
				.project_convert СПЕЦПРОЕКТ
				br
				br
				.form_block_project
					.children
						.child
							h2.child_counter Событие 1
							.form_title Заголовок:
							input.ru(type="text", name="children[0][ru][title]", disabled)
							input.en(type="text", name="children[0][en][title]", disabled)
							.form_title Подзаголовок:
							input.ru(type="text", name="children[0][ru][s_title]", disabled)
							input.en(type="text", name="children[0][en][s_title]", disabled)
							.form_title Описание:
							textarea.ru(name="children[0][ru][body]", rows="8", disabled)
							textarea.en(name="children[0][en][body]", rows="8", disabled)
							.form_title Комментарий:
							textarea.ru(name="children[0][ru][comment]", rows="8", disabled)
							textarea.en(name="children[0][en][comment]", rows="8", disabled)
							.form_title Фото:
							input(type="file", name="children[0][photo]", disabled)
							.form_title Автор фото:
							input.ru(type="text", name="children[0][ru][p_author]", disabled)
							input.en(type="text", name="children[0][en][p_author]", disabled)
							br
							br
							h3 Участники
							.form_title Режиссер:
							+projectField('director')
							.form_title Драматург:
							+projectField('playwright')
							.form_title Автор:
							+projectField('author')
							.form_title Художественный руководитель:
							+projectField('art_director')
							.form_title Куратор:
							+projectField('curator')
							.form_title Фотограф:
							+projectField('photographer')
							.form_title Художник:
							+projectField('artist')
							.form_title Композитор:
							+projectField('composer')
							.form_title Хореограф:
							+projectField('choreographer')
							.form_title Продюсер:
							+projectField('producer')
							.form_title Теоретик:
							+projectField('theoretician')
							.form_title Лектор:
							+projectField('lecturer')
							.form_title Актеры:
							+projectField('actor')
							.form_title Помощник режиссера:
							+projectField('sub_director')
							.form_title Технический директор:
							+projectField('tech_director')
							.form_title Видеохудожник:
							+projectField('video_artist')
							.form_title Звукорежиссер:
							+projectField('audio_director')
							.form_title Мультимедиахудожник
							+projectField('multi_artist')
							.form_title Сценограф
							+projectField('scenographer')
							.form_title Консультант
							+projectField('consultant')
							.form_title Спецэффекты
							+projectField('effects')
							br
							br
							h3 Параметры
							.form_title Зал:
							select(name='children[0][hall]', disabled)
								option(value='main') основная сцена
								option(value='black') черный зал
								option(value='white') белый зал
								option(value='cafe') кафе
								option(value='lobby') фойе
								option(value='301') комната 301
								option(value='306') комната 306
					br
					br
					.add_child добавить событие
					br
					br
				br